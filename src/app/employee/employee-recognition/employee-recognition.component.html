<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <div class="card shadow-sm border-0 border-top border-primary border-4 rounded-4">
        <div class=" border-blue text-black text-center py-4 rounded-top-4">
          <i class="bi bi-stars text-primary display-4 fs-1 mb-2"></i>
          <h3 class="fw-bold mb-0 mt-2">Send Recognition</h3>
          <p class="small opacity-75">Celebrate your teammate's hard work!</p>
        </div>
        
        <div class="card-body p-4">
          <form [formGroup]="recognitionForm" (ngSubmit)="onSubmit()">
            
            <div class="row mb-3">
              <div class="col-8 position-relative">
                <label class="form-label fw-semibold">Search Employee</label>
                <div class="input-group">
                  <span class="input-group-text bg-white border-2 border-end-0"><i class="bi bi-search"></i></span>
                  <input type="text" class="form-control border-2 border-start-0" 
                         placeholder="Type name..." formControlName="employeeSearch"
                         (input)="onSearchChange($event)">
                </div>
                
                <ul class="list-group position-absolute w-100 z-3 shadow-sm" *ngIf="filteredEmployees.length > 0">
                  <li class="list-group-item list-group-item-action cursor-pointer" 
                      *ngFor="let emp of filteredEmployees"
                      (click)="selectEmployee(emp)">
                    {{ emp.name }} <small class="text-muted">({{ emp.id }})</small>
                  </li>
                </ul>
              </div>

              <div class="col-4">
                <label class="form-label fw-semibold">Emp ID</label>
                <input type="text" class="form-control border-2 bg-light text-center fw-bold" 
                       formControlName="employeeId" readonly>
              </div>
            </div>

            <hr class="my-4 text-muted">

            <div class="row mb-3">
              <div class="col-12 mb-3">
                <label class="form-label fw-semibold">Badge Type</label>
                <select class="form-select border-2" formControlName="badgeType">
                  <option value="" disabled>Select a badge...</option>
                  <option value="Team Player">ü§ù Team Player</option>
                  <option value="Problem Solver">üí° Problem Solver</option>
                  <option value="Above & Beyond">üöÄ Above & Beyond</option>
                </select>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label fw-semibold">Points (Max 10)</label>
              <div class="input-group">
                <input type="number" class="form-control border-2" 
                       placeholder="1-10" formControlName="points"
                       [class.is-invalid]="f['points'].touched && f['points'].errors">
                <!-- <span class="input-group-text border-2  fw-bold text-dark">/ 10</span> -->
                <div class="invalid-feedback">Enter a value between 1 and 10.</div>
              </div>
            </div>

            <div class="mb-4">
              <label class="form-label fw-semibold">Why are you recognizing them?</label>
              <textarea class="form-control border-2" rows="3" 
                        placeholder="Write a short appreciation note..." 
                        formControlName="comment"></textarea>
            </div>

            <div class="d-grid">
              <button type="submit" [disabled]="recognitionForm.invalid || !selectedEmp" 
                      class="btn btn-primary btn-lg rounded-pill shadow-sm py-3 fw-bold">
                Confirm Recognition
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>